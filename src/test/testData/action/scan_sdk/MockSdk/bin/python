#!/bin/bash
if [ "$1" = "-V" ]; then
  printf "Python 3.11.2\n"
else
  my_dir=$(dirname "$(realpath -s "$0")")
  for last; do :; done
# good one:  expected_args="-m mypy --show-column-numbers --show-absolute-path --output json --ignore-paths /src/excluded_dir $last"
  expected_args="-m mypy --ignore-paths /src/excluded_dir --show-column-numbers --show-absolute-path --output json $last"
# TODO: why isn't this printed? log only talks about missing hits
  if [ "$*" != "$expected_args" ]; then
    >&2 echo "expected: $expected_args"
    >&2 echo "received: $*"
    exit 1
  fi
  cat "$my_dir/../../manualScan.json"
fi